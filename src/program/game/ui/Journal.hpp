/**
 * @file src/program/game/ui/Journal.hpp
 * @author Adam 'Adanos' GÄ…sior
 * Used library: SFML
 */
 
#pragma once

#include <SFML/Graphics.hpp>

#include "../../Observer.hpp"
#include "../../gui/Window.hpp"

namespace rr
{

    class Game;

    class Journal : public Observer, public sf::Drawable
    {
    private: sf::RectangleShape m_shadow;
             Window             m_wJour;

             ////////////////////////////////////////////////////////////////////////
             /// \brief Draws the window on the screen.
             ////////////////////////////////////////////////////////////////////////
     virtual void draw(sf::RenderTarget&, sf::RenderStates) const override;

    public:  ////////////////////////////////////////////////////////////////////////
             /// \brief Regular constructor.
             ////////////////////////////////////////////////////////////////////////
             Journal();

             ////////////////////////////////////////////////////////////////////////
             /// \brief Reacts to the notification from the subject.
             ////////////////////////////////////////////////////////////////////////
     virtual void onNotify(Event, Entity*, sf::String) override;

             ////////////////////////////////////////////////////////////////////////
             /// \brief Handles the button events.
             ////////////////////////////////////////////////////////////////////////
             void buttonEvents(sf::RenderWindow&, sf::Event&, Game*);

             ////////////////////////////////////////////////////////////////////////
             /// \brief Opens the task list window.
             ////////////////////////////////////////////////////////////////////////
             void open() { m_wJour.setVisible(true); }

             ////////////////////////////////////////////////////////////////////////
             /// \brief Closes the task list window.
             ////////////////////////////////////////////////////////////////////////
             void close() { m_wJour.setVisible(false); }

             ////////////////////////////////////////////////////////////////////////
             /// \brief Tells if the task list is open.
             ////////////////////////////////////////////////////////////////////////
             bool isOpen() const { return m_wJour.isVisible(); }
    };

}

#include "../../Game.hpp"
