/**
 * @file src/program/gui/Switch.hpp
 * @author Adam 'Adanos' GÄ…sior
 * Used library: SFML
 */

#ifndef GUI_SWITCH_HPP
#define GUI_SWITCH_HPP

#include "Component.hpp"
#include "Button.hpp"
#include "Text.hpp"

namespace rr
{

    class Switch : public Component
    {
    private: sf::RectangleShape      m_body;
             std::vector<sf::String> m_options;
             Button                  m_left;
             Button                  m_right;
             Text                    m_text;
             unsigned                m_counter;

             ////////////////////////////////////////////////////////////////////////
             /// \brief Draws the switch on the screen.
             ////////////////////////////////////////////////////////////////////////
     virtual void draw(sf::RenderTarget&, sf::RenderStates) const override;

    public:  ////////////////////////////////////////////////////////////////////////
             /// \brief Regular constructor.
             ////////////////////////////////////////////////////////////////////////
             Switch(sf::Vector2f size, sf::Vector2f position);

             ////////////////////////////////////////////////////////////////////////
             /// \brief Sets the switch's body's position.
             ////////////////////////////////////////////////////////////////////////
     virtual void setPosition(sf::Vector2f) override;

             ////////////////////////////////////////////////////////////////////////
             /// \brief Returns the switch's body's position.
             ////////////////////////////////////////////////////////////////////////
     virtual sf::Vector2f getPosition() const override { return m_left.getPosition(); }
     
             ////////////////////////////////////////////////////////////////////////
             /// \brief Sets the switch's body's size.
             ////////////////////////////////////////////////////////////////////////
     virtual void setSize(sf::Vector2f) override;

             ////////////////////////////////////////////////////////////////////////
             /// \brief Returns the switch's body's size.
             ////////////////////////////////////////////////////////////////////////
     virtual sf::Vector2f getSize() const override { return m_body.getSize(); }

             ////////////////////////////////////////////////////////////////////////
             /// \brief Sets the string of the text displayed on the switch.
             ////////////////////////////////////////////////////////////////////////
             void setText(sf::String s) { m_text.setString(s); }

             ////////////////////////////////////////////////////////////////////////
             /// \brief Returns the text displayed on the switch.
             ////////////////////////////////////////////////////////////////////////
             Text getText() const { return m_text; }

             ////////////////////////////////////////////////////////////////////////
             /// \brief Method for handling the button events.
             ////////////////////////////////////////////////////////////////////////
             void buttonEvents(sf::RenderWindow&, sf::Event&);

             ////////////////////////////////////////////////////////////////////////
             /// \brief Adds an option to the switch.
             ////////////////////////////////////////////////////////////////////////
             void addOption(sf::String);

             ////////////////////////////////////////////////////////////////////////
             /// \brief Sets the current option.
             ////////////////////////////////////////////////////////////////////////
             void setCurrentOption(sf::String);

             ////////////////////////////////////////////////////////////////////////
             /// \brief Returns the current option.
             ////////////////////////////////////////////////////////////////////////
             sf::String getCurrentOption() const { return m_options[m_counter]; }
    };

}

#endif // GUI_SWITCH_HPP
